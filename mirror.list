############# config ##################
#
# set base_path         /var/spool/apt-mirror
#
# set mirror_path       $base_path/mirror
# set skel_path         $base_path/skel
# set var_path          $base_path/var
# set cleanscript       $var_path/clean.sh
# set postmirror_script $var_path/postmirror.sh
# set run_postmirror    0
# set premirror_script  $var_path/premirror.sh
# set run_premirror     0
# set defaultarch       <running host architecture>
# set defaultarch       amd64

set base_path         /mnt/hdd/apt-test

#-- concurrent wget instances
set nthreads          128

#-- options for URL sanitizing
set _tilde            1
set _plus             1

#-- show only space needed, NO actual downloads executed except for the indexes
set dry_run           0

#-- running pre/post mirror script
set run_postmirror    0
set run_premirror     0

#-- un-documented options
set _contents         1
set _autoclean        1

#-- execute subroutines
set exec_translation  1
set exec_dep11        1
set exec_cnf          0
set exec_deb_ins      0
set exec_by_hash      0
set exec_clean        0

#-- do file sum checking, after/before download
set pre_check_sum     1
set post_check_sum    1

#-- delete files with mismatch size or sum
set delete_bad_file   1


#-- WGET CONFIGS
#---------------------------------------

#-- disable SSL certificate checks
set no_check_certificate 1
set auth_no_challenge    1

#-- proxy settings
set use_proxy         1
set http_proxy        127.0.0.1:3128
# set proxy_user      auser
# set proxy_password  apassword

set user_agent        Aptly/1.0
set timeout           30
set tries             3
set cookies_file      /tmp/apt-mirror.cookies
set no_verbose        1

#-- Use --unlink with wget (for use with hardlinked directories)
set unlink            1

#-- limit rate per wget instances
set limit_rate        25m

#-- --prefer-family=none/IPv4/IPv6 --inet4-only --inet6-only
set ip_v6             0
set max_redirect      3

#
############# end config ##############

#deb-armhf http://security.debian.org/debian-security bullseye-security main
#deb-arm64 http://security.debian.org/debian-security bullseye-security main
#deb-amd64 http://security.debian.org/debian-security bullseye-security main
#deb-i386  http://security.debian.org/debian-security bullseye-security main
#deb-src   http://security.debian.org/debian-security bullseye-security main

#deb-armhf http://cdn-fastly.deb.debian.org/debian bullseye-backports main contrib non-free
#deb-arm64 http://cdn-fastly.deb.debian.org/debian bullseye-backports main contrib non-free
#deb-amd64 http://cdn-fastly.deb.debian.org/debian bullseye-backports main contrib non-free
#deb-i386  http://cdn-fastly.deb.debian.org/debian bullseye-backports main contrib non-free
#deb-src   http://cdn-fastly.deb.debian.org/debian bullseye-backports main contrib non-free

#deb-armhf http://archive.raspberrypi.org/debian buster main contrib non-free rpi firmware ui untested
#deb-arm64 http://archive.raspberrypi.org/debian buster main contrib non-free rpi firmware ui untested
#deb-src   http://archive.raspberrypi.org/debian buster main contrib non-free rpi firmware ui untested


deb-armhf http://cdn-fastly.deb.debian.org/debian bullseye main/debian-installer
deb-arm64 http://cdn-fastly.deb.debian.org/debian bullseye main/debian-installer
deb-amd64 http://cdn-fastly.deb.debian.org/debian bullseye main/debian-installer
deb-src   http://cdn-fastly.deb.debian.org/debian bullseye main/debian-installer


clean http://security.debian.org/debian-security
clean http://cdn-fastly.deb.debian.org/debian

clean http://raspbian.raspberrypi.org/raspbian
clean http://archive.raspberrypi.org/debian
clean http://raspbian.raspberrypi.org/
clean http://archive.raspberrypi.org/
